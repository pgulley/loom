<html>
<head>
<script type="text/javascript" src="/static/jquery.min.js"></script>
<script type="text/javascript" src="/static/socketio.js"></script>
<script type="text/javascript" src="/static/lodash.js"></script>
<script type="text/javascript" src="/static/jquery.connections.js"></script>
<script type="text/javascript" src="/static/admin.js"> </script>
<link rel="stylesheet" type="text/css" href="/static/common.css"> </style>
<link rel="stylesheet" type="text/css" href="/static/admin.css"> </style>
<link rel='shortcut icon' type='image/x-icon' href='/static/favicon.ico' />
<title> {{ twine.title }} | admin </title>
</head>
<body>
	<h1> <a class="head_link" href="/"> <img class="logo" src='/static/favicon.ico'><div class="brand_header">Loom </div> </a>
		<div id="username">logged in as <span id="logged_in_user">{{current_user.username}}</span> | <a href="/logout"> logout </a></div>
	</h1>
	<h2> Admin for <a href="/twine/{{twine.story_id}}">{{ twine.title }}</a> </h2>


	<div class="admin_ui_unit"> 
		<h3> Connections Table </h3>
		<div class="passages_table"> </div>
	</div>
	<div class="admin_ui_unit">
		<h3 class="passages_header"> Story Graph </h3>
		<div class="passages_graph_body"> </div>
	</div>
	<div class="admin_ui_unit">
		<h3> Settings </h3>
		<div class="passages_settings"> 	
			<h4> Update Twine Text </h4>
			<input type='file' accept=".html" id="upload_new_twine">
			<div id="new_twine_errors">
			</div>
			<button id="submit_new_twine" disabled>Upload</button> 
			
			<h4> Authorization Scheme </h4>
			<div id="auth_scheme_input">
				<input type="radio" id="auth_none" name="auth" value="auth_none">
				<label for="auth_none"> None</label><br>
				<input type="radio" id="auth_login" name="auth" value="auth_login">
				<label for="auth_login">Login Required</label><br>
				<input type="radio" id="auth_invite" name="auth" value="auth">
				<label for="auth_invite">Invite Only</label>
			</div> 

			<h4> Jitsi Default </h4>
			<div id="jitsi_default">
				<input type="radio" id="jitsi_default_off" name="jitsi_default" value="default_off">
				<label for="auth_none"> Default Off </label><br>
				<input type="radio" id="jitsi_default_on" name="jitsi_default" value="default_on">
				<label for="auth_login"> Default On </label><br>
			</div>
		</div>

	</div>

	<div class="admin_ui_unit">
		<h3> Users </h3>
		
		<table class="users_table">
			<tr>
				<th>
					Username
				</th>
				<th>
					Story Access
				</th>
				<th>
					Client Name
				</th>
				<th>
					Location
				</th>
				<th>
					Story Admin
				</th>
			</tr>
			<tbody id="users_table_body">
			</tbody>
		</table>
	</div>
	<div class="admin_ui_unit">
		<h3> Invitation Codes </h3>
		<label for="invite_num">Amount:</label>
		<input id="invite_num" type="number" min=0 max=20>
		<button id="create_codes">Generate Codes</button>
		<table>
			<thead>
				<tr>
					<th> Code </th>
					<th> Used </th>
				</tr>
			</thead>
			<tbody class="code_list">
			</tbody>
		</table>
	</div>

	<div class="footer"> </div>
</body>

</html>